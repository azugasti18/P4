<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closet Mis-Match</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="container text-center mt-4">
    <h1>Closet Mis-Match</h1>

    <nav class="nav nav-tabs justify-content-center">
        <a class="nav-link active" href="#inicio" data-bs-toggle="tab">Inicio</a>
        <a class="nav-link" href="#personal-closet" data-bs-toggle="tab">Mi Closet</a>
        <a class="nav-link" href="#public-closet" data-bs-toggle="tab">Armario P√∫blico</a>
    </nav>

    <div class="tab-content mt-4">
        <!-- Secci√≥n Principal con Carrusel -->
        <div class="tab-pane fade show active" id="inicio">
            <h2>Bienvenido a tu Armario Digital</h2>
            <p>Organiza y comparte tus conjuntos favoritos con otros usuarios.</p>
            <div id="closetCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="6000" data-bs-wrap="true">
                <div class="carousel-indicators">
                    <button type="button" data-bs-target="#closetCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                    <button type="button" data-bs-target="#closetCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                    <button type="button" data-bs-target="#closetCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
                </div>

                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row">
                            <div class="col-md-3"><img src="fotos/tops/01198160800-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/tops/02237536712-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/tops/03641312800-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/tops/04813315717-e1.jpg" class="d-block w-100"></div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="row">
                            <div class="col-md-3"><img src="fotos/jerseys/03653118803-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/faldas/05427412712-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/tops/04344150755-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/jerseys/08851180681-e1.jpg" class="d-block w-100"></div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="row">
                            <div class="col-md-3"><img src="fotos/tops/04192015606-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/faldas/05039281117-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/jerseys/08851180800-e1.jpg" class="d-block w-100"></div>
                            <div class="col-md-3"><img src="fotos/faldas/05427412712-e1.jpg" class="d-block w-100"></div>
                        </div>
                    </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#closetCarousel" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#closetCarousel" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </button>
            </div>

            <!-- P√°rrafo sobre la empresa -->
            <p class="text-muted">
                En <strong>Closet Mis-Match</strong>, te ayudamos a organizar tu ropa de manera digital.
                Sube fotos de tus prendas, clasif√≠calas por temporada o tipo y comparte tus mejores combinaciones
                con otros usuarios. ¬°Haz de tu armario un espacio m√°s funcional y estilizado!
            </p>

            <!-- Tabla sobre categor√≠as de ropa -->
            <h3 class="mt-4">Clasificaci√≥n de Prendas</h3>
            <table class="table table-bordered mt-3">
                <thead class="table-dark">
                <tr>
                    <th>Tipo de Prenda</th>
                    <th>Ejemplos</th>
                    <th>Temporada Recomendada</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Tops</td>
                    <td>Blusas, Camisas, Polos</td>
                    <td>Verano / Primavera</td>
                </tr>
                <tr>
                    <td>Jerseys</td>
                    <td>Su√©teres, Sudaderas</td>
                    <td>Oto√±o / Invierno</td>
                </tr>
                <tr>
                    <td>Faldas y Pantalones</td>
                    <td>Jeans, Shorts, Faldas Midi</td>
                    <td>Todo el a√±o</td>
                </tr>
                <tr>
                    <td>Accesorios</td>
                    <td>Bufandas, Gorros, Sombreros</td>
                    <td>Invierno / Verano</td>
                </tr>
                </tbody>
            </table>

            <h3 class="mt-4">Reg√≠strate</h3>
            <form class="mt-3 text-start mx-auto" style="max-width: 400px;">

                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre:</label>
                    <input type="text" class="form-control" id="nombre" placeholder="Ej. Juan">
                </div>

                <div class="mb-3">
                    <label for="apellido" class="form-label">Apellido:</label>
                    <input type="text" class="form-control" id="apellido" placeholder="Ej. P√©rez">
                </div>

                <div class="mb-3">
                    <label for="email" class="form-label">Correo Electr√≥nico:</label>
                    <input type="email" class="form-control" id="email" placeholder="Ej. juanperez@gmail.com">
                </div>

                <div class="mb-3">
                    <label for="password" class="form-label">Contrase√±a:</label>
                    <input type="password" class="form-control" id="password" placeholder="********">
                </div>

                <div class="mb-3">
                    <label for="confirm-password" class="form-label">Confirmar Contrase√±a:</label>
                    <input type="password" class="form-control" id="confirm-password" placeholder="********">
                </div>

                <div class="mb-3">
                    <label for="genero" class="form-label">G√©nero (Opcional):</label>
                    <select class="form-control" id="genero">
                        <option value="">Selecciona...</option>
                        <option>Femenino</option>
                        <option>Masculino</option>
                        <option>Otro</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label for="fecha-nacimiento" class="form-label">Fecha de Nacimiento:</label>
                    <input type="date" class="form-control" id="fecha-nacimiento">
                </div>

                <div class="form-check mb-3">
                    <input type="checkbox" class="form-check-input" id="terminos">
                    <label class="form-check-label" for="terminos">
                        Acepto los <a href="#">t√©rminos y condiciones</a>
                    </label>
                </div>

                <button type="submit" class="btn btn-primary w-100">Registrarse</button>
            </form>
        </div>

        <!-- Secci√≥n Personal Closet -->
        <div class="tab-pane fade" id="personal-closet">
            <h2>Mi Closet</h2>
            <p>Sube y organiza tu ropa por tipo, temporada, clase y evento.</p>
            <button id="add-section-btn" class="btn btn-success">A√±adir Art√≠culo</button>
            <div id="closet-sections" class="mt-4"></div>
        </div>

        <!-- Secci√≥n Armario P√∫blico -->
        <div class="tab-pane fade" id="public-closet">
            <h2>Armario P√∫blico</h2>
            <p>Explora y sigue a otros usuarios para ver sus armarios.</p>

            <!-- Campo de B√∫squeda -->
            <input type="text" id="searchUsers" class="form-control mb-3" placeholder="üîç Buscar usuarios por nombre o estilo...">

            <!-- Galer√≠a de Armarios -->
            <div class="public-closet-gallery">
                <div class="user-closet">
                    <img src="fotos/armarios/armario1.png" alt="Armario de @StylebyMery">
                    <p><strong>@StylebyMery</strong></p>
                </div>
                <div class="user-closet">
                    <img src="fotos/armarios/armario3.png" alt="Armario de @cPerez">
                    <p><strong>@cPerez</strong></p>
                </div>
                <div class="user-closet">
                    <img src="fotos/armarios/armario2.png" alt="Armario de @luuuci">
                    <p><strong>@luuuci</strong></p>
                </div>
            </div>

            <!-- Bot√≥n para explorar m√°s -->
            <button class="btn btn-dark mt-3">Explorar M√°s Armarios</button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const closetSections = document.getElementById("closet-sections");
        const addSectionBtn = document.getElementById("add-section-btn");

        // Leer (GET)
        function cargarPrendas() {
            closetSections.innerHTML = "";
            fetch("/api/prendas")
                .then(res => res.json())
                .then(data => {
                    data.forEach(prenda => mostrarPrenda(prenda));
                });
        }

        // Mostrar en el DOM
        function mostrarPrenda(prenda) {
            const sectionDiv = document.createElement("div");
            sectionDiv.classList.add("closet-section", "p-3", "border", "rounded", "mb-3");

            sectionDiv.innerHTML = `
                <button class="remove-btn">‚ùå</button>
                <h3 class="section-title editable">${prenda.nombre}</h3>
                <p><strong>Tipo:</strong> ${prenda.tipo}</p>
                <p><strong>Temporada:</strong> ${prenda.temporada}</p>
            `;

            // Eliminar (DELETE)
            sectionDiv.querySelector(".remove-btn").addEventListener("click", () => {
                fetch("/api/prendas/" + prenda.id, { method: "DELETE" })
                    .then(() => sectionDiv.remove());
            });

            // Actualizar (PUT)
            sectionDiv.querySelector(".editable").addEventListener("click", () => {
                const nuevoNombre = prompt("Nuevo nombre:", prenda.nombre);
                const nuevoTipo = prompt("Nuevo tipo:", prenda.tipo);
                const nuevaTemporada = prompt("Nueva temporada:", prenda.temporada);
                if (nuevoNombre && nuevoTipo && nuevaTemporada) {
                    fetch("/api/prendas/" + prenda.id, {
                        method: "PUT",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            nombre: nuevoNombre,
                            tipo: nuevoTipo,
                            temporada: nuevaTemporada
                        })
                    }).then(() => cargarPrendas());
                }
            });

            closetSections.appendChild(sectionDiv);
        }

        // Crear (POST)
        addSectionBtn.addEventListener("click", function () {
            const nombre = prompt("Nombre de la prenda:");
            const tipo = prompt("Tipo:");
            const temporada = prompt("Temporada:");
            if (nombre && tipo && temporada) {
                fetch("/api/prendas", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ nombre, tipo, temporada })
                }).then(() => cargarPrendas());
            }
        });

        // Cargar al inicio
        cargarPrendas();
    });
</script>

</body>
</html>